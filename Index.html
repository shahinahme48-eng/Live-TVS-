<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRICFy TV PRO</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body { background: #0a0a0a; color: white; font-family: sans-serif; margin: 0; }
        .header { background: #111; padding: 15px; text-align: center; border-bottom: 2px solid #00ff00; position: sticky; top: 0; z-index: 100; }
        #video-container { width: 100%; aspect-ratio: 16/9; background: #000; position: sticky; top: 55px; z-index: 99; display: none; }
        video { width: 100%; height: 100%; }
        .search-box { padding: 15px; }
        input { width: 100%; padding: 12px; border-radius: 10px; background: #1a1a1a; color: white; border: 1px solid #333; outline: none; box-sizing: border-box; }
        .tabs { display: flex; gap: 10px; overflow-x: auto; padding: 0 15px 15px; }
        .tab-btn { padding: 8px 18px; border-radius: 20px; border: 1px solid #00ff00; background: transparent; color: #00ff00; cursor: pointer; white-space: nowrap; font-weight: bold; }
        .tab-btn.active { background: #00ff00; color: black; }
        .grid { padding: 15px; display: grid; gap: 12px; }
        .card { display: flex; align-items: center; background: #161b22; padding: 10px; border-radius: 12px; cursor: pointer; border-left: 4px solid #00ff00; }
        .card img { width: 50px; height: 50px; border-radius: 8px; margin-right: 15px; object-fit: cover; }
        .info h3 { margin: 4px 0; font-size: 16px; }
        .info p { font-size: 10px; color: #00ff00; margin: 0; text-transform: uppercase; }
        .live { font-size: 11px; color: #ff4d4d; font-weight: bold; }
    </style>
</head>
<body>

<div class="header"><h2 style="margin:0; color:#00ff00;">CRICFy TV PRO</h2></div>
<div id="video-container"><video id="video" controls autoPlay playsinline></video></div>

<div class="search-box"><input type="text" id="searchInput" placeholder="Search Channel..." onkeyup="filter()"></div>

<div class="tabs" id="tabs">
    <button class="tab-btn active" onclick="filterTab('All', this)">All</button>
    <button class="tab-btn" onclick="filterTab('Bangladesh', this)">Bangladesh</button>
    <button class="tab-btn" onclick="filterTab('India', this)">India</button>
    <button class="tab-btn" onclick="filterTab('Sports', this)">Sports</button>
</div>

<div class="grid" id="channelList"></div>

<script>
    const channels = [
        { name: "Somoy TV", url: "https://live-cdn.jagobd.com/somoy/somoy.stream/playlist.m3u8", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/SomoyTV.png", group: "Bangladesh" },
        { name: "Jamuna TV", url: "https://live-cdn.jagobd.com/jamuna/jamuna.stream/playlist.m3u8", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/JamunaTV.png", group: "Bangladesh" },
        { name: "T-Sports Live", url: "https://raw.githubusercontent.com/shahinahme48-eng/Live-TV/main/tsports.m3u8", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/TSports.png", group: "Sports" },
        { name: "Star Sports 1 HD", url: "http://103.199.161.254:8000/play/a01h", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/StarSports1.png", group: "Sports" },
        { name: "Sony Ten 1 HD", url: "http://103.199.161.254:8000/play/a01i", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/SonyTen1.png", group: "Sports" },
        { name: "India Today", url: "https://linear-413.voot.com/cl9/hls/itv/playlist.m3u8", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/IndiaToday.png", group: "India" },
        { name: "Aaj Tak Live", url: "https://linear-407.voot.com/cl9/hls/at/playlist.m3u8", logo: "https://raw.githubusercontent.com/iptv-org/database/master/data/logos/AajTak.png", group: "India" }
    ];

    function display(list) {
        const container = document.getElementById('channelList');
        container.innerHTML = list.map(ch => `
            <div class="card" onclick="play('${ch.url}')">
                <img src="${ch.logo}">
                <div class="info">
                    <p>${ch.group}</p>
                    <h3>${ch.name}</h3>
                    <span class="live">‚óè LIVE</span>
                </div>
            </div>
        `).join('');
    }

    function play(url) {
        const v = document.getElementById('video');
        document.getElementById('video-container').style.display = 'block';
        window.scrollTo(0,0);
        if (Hls.isSupported()) {
            const hls = new Hls(); hls.loadSource(url); hls.attachMedia(v);
            hls.on(Hls.Events.MANIFEST_PARSED, () => v.play());
        } else { v.src = url; v.play(); }
    }

    function filter() {
        const q = document.getElementById('searchInput').value.toLowerCase();
        display(channels.filter(c => c.name.toLowerCase().includes(q)));
    }

    function filterTab(tab, btn) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        display(tab === 'All' ? channels : channels.filter(c => c.group === tab));
    }

    display(channels);
</script>
</body>
</html>
